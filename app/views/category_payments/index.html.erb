<% content_for(:page_name) { "Transactions" } %>

<p style="color: green"><%= notice %></p>

<% if @category_payments.length == 0 %>
  <h2 class="text-center mt-5"> No transactions yet</h2>
<% end %>

<% @category_payments.each do |category_payment| %>
  <div class="card flex min-w-full"> 
    <div class="card flex p-2 border-2 w-full rounded-lg">
      <div class="flex-shrink-0">
        <img src="<%= category_payment.category.icon %>" alt="category thumbnail" class="h-24 w-24 rounded-lg">
      </div>
      <div class="card flex flex-col p-2 w-full justify-between h-full">
        <div class="middle p-1 w-full flex justify-between mx-2">
          <p class="excerpt tag text-2xl text-gray-500">
            <%= category_payment.payment.name %>
          </p>
          <p class="excerpt px-1 tag text-2xl font-semibold text-darkGray">
            $<%= category_payment.payment.amount %>
          </p>
        </div>
        <div class="bottom w-full flex justify-between mx-2 text-gray-400">
          <div class="date px-1"><%= category_payment.payment.created_at %></div>
          <div class="readmore px-2 text-sky-600">Show Details</div>
        </div>
      </div>
    </div>
  </div>
<% end %>

<div class="flex p-10 justify-center sm:px-40 md:py-15">
  <%= link_to "New Transaction", new_payment_path,  class: save_button_class %>
</div>